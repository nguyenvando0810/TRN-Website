# Project Documentation

> **Important Note**:
> This document is formatted in markdown format. Please retain the format while editing.
> Online editor: https://stackedit.io

## Folder Structure

    (root)/
    ├── client/
    │   ├── _env/
    │   │   ├── localhost/
    │   │   │   ├── scripts/
    │   │   │   ├── styles/
    │   │   │   └── templates/
    │   │   ├── production/
    │   │   │   ├── scripts/
    │   │   │   ├── styles/
    │   │   │   └── templates/
    │   │   └── staging/
    │   │       ├── scripts/
    │   │       ├── styles/
    │   │       └── templates/
    │   │
    │   ├── source/
    │   │   ├── fonts/
    │   │   ├── images/
    │   │   ├── videos/
    │   │   ├── styles/
    │   │   ├── scripts/
    │   │   ├── contents/ -->(include content json file)
    │   │   └── templates/
    │   │       ├── partials/
    │   │       ├── pages/
    │   │       └── layout/
    │   │           └── default.hbs
    │   ├── dist/  -->(generated by gulp tasks)
    │   │       ├── default/
    │   ├── package.json
    │   ├── gulpfile.js
    │   ├── handlebars-helper.js
    │   ├── node_modules/  -->(generated by npm)
    ├── server/
    ├── .gitignore
    └── README.md

## Setup Development Environment

### Dependencies
 - Run `npm install` at each calculator variation sub folder (refer to section on "Calculator Variations")

 ### Compile Source Codes

To compile for development or deployment, use gulp with following options:

 - Tasks
 - Environment parameter

Gulp options:

`gulp [ serve | build | build:dist ] --env=[localhost | staging | production] `

By default, without entering any paramters, `--env=localhost` parameter is used.

task options      | Description
---               | ---
`serve`           | serve files from `.tmp` folder on localhost
`build`           | build files (with external css and js)
`build:dist`      | build files (with inline css and js)

----------

template options  | Description
---               | ---
`default`         | Compile from `source/templates/default` to `dist/default`

> Note:
> 'deployment' template is configured with external link to JQuery

----------

env options       | Description
---               | ---
`localhost`       | localhost
`staging`         | Staging
`production`      | Production

----------

Example usage:

Compile for localhost with Browsersync
>  `gulp serve`

Compile for localhost
>  `gulp build --env=localhost `

Compile for staging
>  `gulp build:dist --env=staging `

### Page templates

The templates are built using `gulp-handlebars`.
Templates and partials are stored in `app/templates/`.

For each page, a template (.hbs) needs to be added for `default` and `deployment` using the actual output filename.

Example, for homepage:
`app/templates/pages/index.hbs`

It is recommended to include the common content as a shared partial.

Example, homepage,
`app/templates/partials/components/footer.hbs`

> Note:
> For paths in templates, paths must be added as handlebar variable.
> This is for compilation to different environment.
> e.g. `{{img_url}}image.jpg`

### SASS

> Note: Paths in SCSS must be included as a variable. This is for
> compilation to different environment.
> e.g. `background-image: url(#{$images_path}placeholder-img.jpg);`
